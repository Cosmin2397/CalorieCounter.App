@page
@using CalorieCounter.Data.Enums
@model CalorieCounter.Pages.FoodDashes.DetailsModel


<div class="card text-center h-100">
    <div class="columns">
   <div class="column">
    <form method="post">
        <input type="date" asp-for="FoodDash.Date" value="@Model.FoodDash.Date.AddDays(-1).ToString("yyyy-MM-dd")" hidden/>
        <input type="submit" value="Previous Day" class="btn btn-primary" />
    </form>
    </div>

    <div class="column">
        <h3>@Model.FoodDash.Date.ToString("dd/MM/yyyy") </h3>
    </div>
    <div class="column">
    <form method="post">
        <input type="date" asp-for="FoodDash.Date" value="@Model.FoodDash.Date.AddDays(1).ToString("yyyy-MM-dd")" hidden/>
        <input type="submit" value="Next Day" class="btn btn-primary" />
    </form>
    </div> 
    </div>
    </div>
    <div class="card-body">
        @foreach (var meal in Enum.GetValues(typeof(MealType)))
        {
            <div>
            <h4>@meal.ToString()</h4>
            @foreach (var food in @Model.FoodDash.Foods)
                {
                    @if(meal.Equals(food.MealTypeId))
                    {
                        <div class="alert alert-dark">
                            <h6>@food.Food.Name, @food.TotalKcalFood Kcal</h6>
                            <h7 style="font-style:italic">@food.TotalWeight grams</h7>
                            <a class="btn btn-secondary" asp-page="/FoodsToAdd/Details" asp-route-id="@food.Id">Details</a>
                        </div>
                    }
                }
                <a class="btn btn-secondary" asp-page="/FoodDashes/GetFoods" asp-route-id="@Model.FoodDash.Id">Add food</a>
            </div>
        }
        <div class="alert alert-dark">
                            <h6>Kcal: @Model.FoodDash.TotalKcal/ @Model.FoodDash.ExpectedValues.ExpectedKcal</h6>
                            <h7>Carbs: @Model.FoodDash.TotalCarbs/ @Model.FoodDash.ExpectedValues.ExpectedCarbs </h7>
                            <h7>Total Protein: @Model.FoodDash.TotalProtein/ @Model.FoodDash.ExpectedValues.ExpectedProtein</h7>
                            <h7>Total Fats: @Model.FoodDash.TotalFats/ @Model.FoodDash.ExpectedValues.ExpectedFats </h7>
                            <h7>Total Fibers: @Model.FoodDash.TotalFibers/ @Model.FoodDash.ExpectedValues.ExpectedFibers </h7>
                            <h7 style="font-style:italic">Weight: @Model.FoodDash.TotalWeight grams</h7>
                        </div>
    </div>
